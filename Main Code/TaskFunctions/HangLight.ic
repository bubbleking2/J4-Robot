/*-------------------------------------------------------------------------------------------------*/
//File #8
/*-------------------------------------------------------------------------------------------------*/

#if DRIVE * FROM_TO == 1

#define HANG_LIGHT 1

/*-------------------------------------------------------------------------------------------------*/
//Function #1
/*-------------------------------------------------------------------------------------------------*/

void HangLight(int courseDirection)
{
    int processID;
    
    #ifdef TEST_LOG
      {
        LogEvent(811);
    }
    #endif
    
    if(trafficIsRight)
      {
        TurnDegrees(55);
        facingLeft = 0;
    }
    else
      {
        TurnDegrees(-55);
        facingLeft = 1;
    }
    
    TurnTowards(trafficLeft.x, trafficLeft.y);
    
    processID = start_process(DriveDistance(24., 35.));
    while(analog(CENTER_OPTOSENSOR) > FOLLOW_THRESHOLD && analog(LEFT_OPTOSENSOR) > FOLLOW_THRESHOLD && analog(RIGHT_OPTOSENSOR) > FOLLOW_THRESHOLD);
    kill_process(processID);
    ao();
    
    #ifdef TEST_LOG
      {
        LogEvent(612);
    }
    #endif
    
    processID = start_process(FollowLine());
    msleep(1500L);
    kill_process(processID);
    ao();    
    
    #ifdef TEST_LOG
      {
        LogEvent(672);
    }
    #endif
    
    DriveDistance(10., -100.);
    if(courseDirection == 1)
      {
        TurnDegrees(-58);
        facingLeft = 1;
    }
    else
      {
        TurnDegrees(58);
        facingLeft = 0;
    }
    
    #ifdef TEST_LOG
      {
        LogEvent(810);
    }
    #endif
}

/*-------------------------------------------------------------------------------------------------*/
/*-------------------------------------------------------------------------------------------------*/

#endif
