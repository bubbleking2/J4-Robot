/*-------------------------------------------------------------------------------------------------*/
//File #9
/*-------------------------------------------------------------------------------------------------*/

#if DRIVE * FROM_TO == 1

#define HANG_LIGHT 1

/*-------------------------------------------------------------------------------------------------*/
//Function #3
/*-------------------------------------------------------------------------------------------------*/

void HangLight(int courseDirection)
{
    int processID;
    
    #ifdef TEST_LOG
      {
        LogEvent(931);
    }
    #endif
    
    TurnDegrees(-68);
    facingLeft = 1;
    
    printf("\nTurning towards traffic");
    TurnTowards(trafficLeft.x, trafficLeft.y);
    
    processID = start_process(DriveDistance(24., 35.));
    while(analog(CENTER_OPTOSENSOR) > FOLLOW_THRESHOLD && analog(LEFT_OPTOSENSOR) > FOLLOW_THRESHOLD && analog(RIGHT_OPTOSENSOR) > FOLLOW_THRESHOLD);
    kill_process(processID);
    motor(LEFT_MOTOR, 0);
    motor(RIGHT_MOTOR, 0);
    
    #ifdef TEST_LOG
      {
        LogEvent(772);
    }
    #endif
    
    printf("\nLine following");
    processID = start_process(FollowLine());
    msleep(1500L);
    kill_process(processID);
    motor(LEFT_MOTOR, 0);
    motor(RIGHT_MOTOR, 0);
    
    #ifdef TEST_LOG
      {
        LogEvent(792);
    }
    #endif
    
    DriveDistance(10., -100.);
    TurnDegrees(58);
    facingLeft = 0;
    
    #ifdef TEST_LOG
      {
        LogEvent(930);
    }
    #endif
}

/*-------------------------------------------------------------------------------------------------*/
/*-------------------------------------------------------------------------------------------------*/

#endif
